spec:
  structures:
    - containerBlocks
    - cardBlocks
    - splitBlocks
    - gridItemBlocks
    - carouselBlocks
    - contentSelectorBlocks
  label: Accordion
  description: Hides content behind an expandable menu.
  icon: expand_all
  tags:
  preview:
    text:
      - key: label
      - Accordion
    subtext:
      - template: An accordion containing {items|array_length} {"item"|pluralize=items}
      - Add items to the accordion

blueprint:
  label:
  items:
  openFirst: false
  singleOpen: false

# Overrides any fields in the blueprint when viewing this component in the component browser
preview:
  singleOpen: true

# Any extra CloudCannon inputs configuration to apply to the blueprint
_inputs:
  label:
    comment: Optional label for the accordion to help identify it in the editor.
    type: text
  items:
    comment: The items to display in the accordion.
    type: array
    options:
      structures: _structures.accordionItems
  openFirst:
    comment: Whether the first item will be open by default.
    type: switch
  singleOpen:
    comment: Whether only one item can be open at a time within this accordion.
    type: switch

_structures:
  accordionItems:
    values:
      - label: Item
        icon: place_item
        value:
          title:
          contentBlocks:
        _inputs:
          title:
            comment: The title of the accordion item.
            type: text
          contentBlocks:
            type: array
            options:
              structures: _structures.accordionBlocks
