---
import Heading from "@core-elements/heading/heading.astro";
import Image from "@core-elements/image/image.astro";
import SimpleText from "@core-elements/simple-text/simple-text.astro";
import Card from "@wrappers/card/card.astro";
import Split from "@wrappers/split/split.astro";

const {
  eyebrow = "",
  title = "",
  description = "",
  imageSource = "",
  imageAlt = "",
  minSplitWidth = 0,
  class: className,
  ...rest
} = Astro.props;

const htmlAttributes = Object.fromEntries(
  Object.entries(rest).filter(([key]) => key !== "_component")
);

const hasImage = Boolean(imageSource);
---

<Card
  {...htmlAttributes}
  class:list={["feature-slider-item", className]}
  paddingHorizontal="none"
  paddingVertical="none"
>
  <Split
    distributionMode="two-thirds-third"
    minSplitWidth={minSplitWidth}
    verticalAlignment="center"
  >
    <Fragment slot="first">
      {eyebrow && <SimpleText class="eyebrow">{eyebrow}</SimpleText>}
      {
        title && (
          <Heading level="h2" size="lg" style="margin-top: 0;">
            {title}
          </Heading>
        )
      }
      {description && <SimpleText size="md">{description}</SimpleText>}
    </Fragment>
    {
      hasImage && (
        <Image
          slot="second"
          source={imageSource}
          alt={imageAlt || title}
          rounded={true}
          aspectRatio="portrait"
          priority={true}
        />
      )
    }
  </Split>
</Card>
