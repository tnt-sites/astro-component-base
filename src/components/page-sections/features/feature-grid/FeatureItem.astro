---
import Heading from "@core-elements/heading/Heading.astro";
import Icon from "@core-elements/icon/Icon.astro";
import Text from "@core-elements/text/Text.astro";
import Card from "@wrappers/card/Card.astro";

const {
  title = "",
  description = "",
  iconName = "",
  iconColor = "default",
  iconBackground = false,
  class: className,
  ...rest
} = Astro.props;

const htmlAttributes = Object.fromEntries(
  Object.entries(rest).filter(([key]) => key !== "_component")
);
---

<Card
  {...htmlAttributes}
  class:list={["feature-item", className]}
  paddingHorizontal="lg"
  paddingVertical="lg"
  rounded
  border
  backgroundColor="base"
>
  {
    iconName && (
      <Icon
        class="feature-icon"
        name={iconName}
        size="lg"
        color={iconColor}
        background={true}
        alignX="start"
      />
    )
  }
  {
    title && (
      <Heading
        class="feature-title"
        level="h3"
        size="md"
        alignX="start"
        style="margin-bottom: var(--spacing-sm); margin-top: var(--spacing-sm);"
        data-prop="title"
      >
        {title}
      </Heading>
    )
  }
  {
    description && (
      <Text
        class="feature-description"
        alignX="start"
        style="margin-top: 0;"
        data-prop="description"
        text={description}
      />
    )
  }
</Card>
