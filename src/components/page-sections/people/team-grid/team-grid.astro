---
import CustomSection from "@builders/custom-section/custom-section.astro";
import Heading from "@core-elements/heading/heading.astro";
import SimpleText from "@core-elements/simple-text/simple-text.astro";
import TeamItem from "@page-sections/people/team-grid/team-item.astro";
import GridItem from "@wrappers/grid/grid-item.astro";
import Grid from "@wrappers/grid/grid.astro";

const {
  eyebrow = "",
  heading = "",
  subtext = "",
  teamMembers = [],
  colorScheme,
  backgroundColor,
  paddingVertical = "4xl",
  class: className,
} = Astro.props;
---

<CustomSection
  class:list={["team-grid", className]}
  maxContentWidth="2xl"
  paddingHorizontal="lg"
  paddingVertical={paddingVertical}
  colorScheme={colorScheme}
  backgroundColor={backgroundColor}
>
  {
    eyebrow && (
      <SimpleText alignX="center" class="eyebrow">
        {eyebrow}
      </SimpleText>
    )
  }
  {
    heading && (
      <Heading level="h2" size="lg" alignX="center" style="margin-bottom: var(--spacing-sm);">
        {heading}
      </Heading>
    )
  }
  {
    subtext && (
      <SimpleText class="team-grid-subtext" size="md" alignX="center" style="margin-top: 0;">
        {subtext}
      </SimpleText>
    )
  }
  {
    teamMembers?.length > 0 && (
      <Grid
        gap="md"
        minItemWidth={260}
        maxItemWidth={400}
        style="margin-top: var(--spacing-xl)"
        data-prop="teamMembers"
        layout="start"
      >
        {teamMembers.map((member, index) => (
          <GridItem>
            <editable-array-item data-component="page-sections/people/team-grid/team-item">
              <TeamItem {...member} class="team-grid-item" data-index={index} />
            </editable-array-item>
          </GridItem>
        ))}
      </Grid>
    )
  }
</CustomSection>
