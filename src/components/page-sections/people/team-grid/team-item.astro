---
import Heading from "@core-elements/heading/heading.astro";
import Image from "@core-elements/image/image.astro";
import SimpleText from "@core-elements/simple-text/simple-text.astro";
import Card from "@wrappers/card/card.astro";

const {
  name = "",
  role = "",
  bio = "",
  imageSource = "",
  imageAlt = "",
  class: className,
  ...rest
} = Astro.props;

const htmlAttributes = Object.fromEntries(
  Object.entries(rest).filter(([key]) => key !== "_component")
);

const cardClasses = ["team-item", className].filter(Boolean).join(" ");
---

<Card
  {...htmlAttributes}
  class={cardClasses || undefined}
  paddingHorizontal="lg"
  paddingVertical="sm"
  rounded
  border
  backgroundColor="base"
>
  {
    imageSource && (
      <Image
        class="team-image"
        source={imageSource}
        alt={imageAlt || name}
        aspectRatio="square"
        widths={[400, 800]}
        sizes="400px"
        editable={true}
        data-prop-src="imageSource"
        data-prop-alt="imageAlt"
        data-editable="image"
        slot="before"
      />
    )
  }
  {
    name && (
      <Heading
        class="team-name"
        level="h3"
        size="md"
        alignX="start"
        style="margin-bottom: var(--spacing-xs); margin-top: 0;"
      >
        {name}
      </Heading>
    )
  }
  {
    role && (
      <SimpleText
        class="team-role"
        size="sm"
        alignX="start"
        style=" color: var(--color-text-subtle); font-weight: var(--font-weight-bold); margin-bottom: var(--spacing-sm);margin-top: 0;;"
      >
        {role}
      </SimpleText>
    )
  }
  {
    bio && (
      <SimpleText
        class="team-bio"
        size="sm"
        alignX="start"
        style=" color: var(--color-text-muted); margin-top: 0;"
      >
        {bio}
      </SimpleText>
    )
  }
</Card>
