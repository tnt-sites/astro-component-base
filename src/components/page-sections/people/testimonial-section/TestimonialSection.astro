---
import CustomSection from "@builders/custom-section/CustomSection.astro";
import Testimonial from "@core-elements/testimonial/Testimonial.astro";

const {
  text = "",
  authorName = "",
  authorDescription = "",
  authorImage = "",
  paddingVertical = "sm",
  colorScheme,
  backgroundColor,
  class: className,
  ...rest
} = Astro.props;

const htmlAttributes = Object.fromEntries(
  Object.entries(rest).filter(([key]) => key !== "_component")
);
---

<CustomSection
  {...htmlAttributes}
  class:list={["testimonial-section", className]}
  maxContentWidth="xl"
  paddingHorizontal="lg"
  paddingVertical={paddingVertical}
  colorScheme={colorScheme}
  backgroundColor={backgroundColor}
>
  <Testimonial
    text={text}
    authorName={authorName}
    authorDescription={authorDescription}
    authorImage={authorImage}
    alignX="center"
    data-prop="text"
    data-prop-author-name="authorName"
    data-prop-author-description="authorDescription"
  >
    <slot />
  </Testimonial>
</CustomSection>
