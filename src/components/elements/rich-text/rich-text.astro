---
import clsx from "clsx";
// @ts-ignore
import markdownit from "markdown-it";
import "./rich-text.pcss";

const md = markdownit({ html: true });

const { text = "", align = "start", class: className, ...rest } = Astro.props;

const htmlAttributes = Object.fromEntries(
  Object.entries(rest).filter(([key]) => !key.startsWith("_"))
);

const markdownContent = text ? md.render(text) : "";

const classNames = clsx("rich-text", className, `align-${align}`);
---

<div class:list={classNames} {...htmlAttributes} set:html={markdownContent} />
