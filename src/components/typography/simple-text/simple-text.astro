---
import MarkdownIt from "markdown-it";

const { text, size, alignX = "start", class: className, ...rest } = Astro.props;

const htmlAttributes = Object.fromEntries(
  Object.entries(rest).filter(([key]) => key !== "_bookshop_name")
);

const md = MarkdownIt({ html: true });
const MarkdownText = text ? md.renderInline(text) : "";
---

<p
  class:list={["simple-text", size && `size-${size}`, `align-${alignX}`, className]}
  {...htmlAttributes}
>
  {text ? <span data-editable="text" data-prop="text" set:html={MarkdownText} /> : <slot />}
</p>
