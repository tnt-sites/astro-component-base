---
import DefinitionListItem from "./definition-list-item.astro";

const { items, alignX = "start", class: className, ...restProps } = Astro.props;

const htmlAttributes = Object.fromEntries(
  Object.entries(restProps).filter(([key]) => key !== "_component")
);
---

<dl
  class:list={["definition-list", `alignment-${alignX}`, className]}
  {...htmlAttributes}
>
  {
    items && items.length > 0 ? (
      items.map((item: any) => <DefinitionListItem title={item.title} text={item.text} />)
    ) : (
      <slot />
    )
  }
</dl>

<style lang="pcss">
  .definition-list {
    display: grid;
    gap: var(--spacing-em-sm) var(--spacing-em-md);
    grid-template-columns: auto 1fr;
    margin: 0;
    margin-top: var(--spacing-lg);

    &.alignment-center {
      align-items: center;
      grid-template-columns: 1fr 1fr;
      justify-content: center;

      > .title {
        text-align: end;
      }
    }

    &.alignment-end {
      align-items: end;
      grid-template-columns: auto auto;
      justify-content: end;

      > .title {
        text-align: start;
      }

      > .content {
        text-align: end;
      }
    }

    > .content {
      margin: 0;
    }
  }
</style>
