---
import RenderBlock from "@components/utils/renderBlock.astro";

const { contentSections, index, uniqueId, ...rest } = Astro.props;

const htmlAttributes = Object.fromEntries(
  Object.entries(rest).filter(([key]) => key !== "_component")
);
---

<div
  class="panel"
  id={`panel-${uniqueId}-${index}`}
  role="tabpanel"
  aria-labelledby={`tablabel-${uniqueId}-${index}`}
  aria-hidden={index !== 0}
  {...htmlAttributes}
>
  <RenderBlock contentSections={contentSections} />
</div>

<style lang="pcss">
  .panel {
    container-type: inline-size;
    animation: fade-in var(--animation-slow) ease-in-out forwards;
    display: none;
    padding: 0 var(--spacing-md);

    > :global(editable-array) > :global(editable-array-item:first-child) > :global(*:first-child),
    > :global(:not(editable-array):first-child) {
      margin-top: 0 !important;
    }
  }
</style>
